{"version":3,"sources":["utils.js","WebApi.js","Pages/HomePage/HomePage.js","contexts.js","Pages/LoginPage/LoginPage.js","Pages/BlogPost/BlogPost.js","Pages/CreatePage/CreatePage.js","components/Header/Header.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","then","res","json","Root","styled","div","PostContainer","PostTitle","Link","PostDate","Post","post","to","id","title","Date","createdAt","toLocaleString","HomePage","useState","posts","setPosts","useEffect","map","AuthContext","createContext","UserName","Password","ErrorMessage","LoginPage","setUser","useContext","username","setUsername","password","setPassword","errorMessage","setErrorMessage","history","useHistory","onSubmit","e","preventDefault","method","body","JSON","stringify","login","data","ok","message","resp","toString","push","type","value","onChange","target","PostBody","BlogPost","slug","useParams","setPost","length","Title","Content","CreatePage","setTitle","content","setContent","create","console","log","rows","HeaderConainer","NavbarList","LeftContainer","Brand","Nav","props","$active","Header","done","location","useLocation","user","pathname","onClick","App","isDone","setIsDone","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"8KAAMA,EAAa,QAENC,EAAe,SAAAC,GAC3BC,aAAaC,QAAQJ,EAAYE,IAGrBG,EAAe,WAC3B,OAAOF,aAAaG,QAAQN,ICLvBO,EAAW,qCA+BJC,EAAQ,WACpB,IAAMN,EAAQG,IAEd,OAAOI,MAAM,GAAD,OAAIF,EAAJ,OAAmB,CAC9BG,QAAS,CACR,cAAgB,UAAhB,OAA2BR,MAG5BS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,W,eClCZC,EAAOC,IAAOC,IAAV,8DAKJC,EAAgBF,IAAOC,IAAV,+KAQbE,EAAYH,YAAOI,IAAPJ,CAAH,0FAMTK,EAAWL,IAAOC,IAAV,0DAKd,SAASK,EAAT,GAAwB,IAARC,EAAO,EAAPA,KACd,OACE,eAACL,EAAD,WACE,cAACC,EAAD,CAAWK,GAAE,iBAAYD,EAAKE,IAA9B,SAAsCF,EAAKG,QAC3C,cAACL,EAAD,UAAW,IAAIM,KAAKJ,EAAKK,WAAWC,sBAS3B,SAASC,IAAY,IAAD,EACLC,mBAAS,IADJ,mBACzBC,EADyB,KAClBC,EADkB,KASjC,OANAC,qBAAU,WDvCJxB,MAAM,GAAD,OAAIF,EAAJ,uCACVI,MAAM,SAACC,GAAD,OAASA,EAAIC,UCuCPF,MAAM,SAAAoB,GACfC,EAASD,QAEV,IAGD,cAACjB,EAAD,UACGiB,EAAMG,KAAK,SAAAZ,GAAI,OAAI,cAACD,EAAD,CAAMC,KAAMA,GAAWA,EAAKE,SCrD/C,I,cAAMW,EAAcC,wBAAc,MCMnCtB,EAAOC,IAAOC,IAAV,iHAOJqB,EAAWtB,IAAOC,IAAV,uFAMRsB,EAAWvB,IAAOC,IAAV,uFAORuB,EAAexB,IAAOC,IAAV,2CAIH,SAASwB,IAAa,IAC5BC,EAAWC,qBAAWP,GAAtBM,QAD2B,EAEFX,mBAAS,IAFP,mBAE3Ba,EAF2B,KAEjBC,EAFiB,OAGFd,mBAAS,IAHP,mBAG3Be,EAH2B,KAGjBC,EAHiB,OAIMhB,qBAJN,mBAI3BiB,EAJ2B,KAIbC,EAJa,KAK5BC,EAAUC,cAuBhB,OACE,cAAC,EAAD,UACE,uBAAMC,SAtBW,SAAAC,GACnBA,EAAEC,iBHtBe,SAACV,EAAUE,GAC/B,OAAOpC,MAAM,GAAD,OAAIF,EAAJ,UAAsB,CACjC+C,OAAQ,OACR5C,QAAS,CACR,eAAgB,oBAEjB6C,KAAMC,KAAKC,UAAU,CACpBd,WACAE,eAGDlC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UGYd6C,CAAMf,EAAUE,GAAUlC,MAAM,SAAAgD,GAC9B,GAAgB,IAAZA,EAAKC,GACP,OAAOZ,EAAgBW,EAAKE,SAE9B5D,EAAa0D,EAAKzD,OAClB8C,EAAgB,IAEhBxC,IAAQG,MAAK,SAAAmD,GACX,GAAe,IAAXA,EAAKF,GAEP,OADA3D,EAAa,MACN+C,EAAgBc,EAAKC,YAE9BtB,EAAQqB,EAAKH,MACbV,EAAQe,KAAK,YAOf,UACE,eAAC3B,EAAD,wBACY,uBAAO4B,KAAK,OAAOC,MAAOvB,EAAUwB,SAAW,SAAAf,GAAC,OAAIR,EAAYQ,EAAEgB,OAAOF,aAErF,eAAC5B,EAAD,wBACY,uBAAO2B,KAAK,WAAWC,MAAOrB,EAAUsB,SAAW,SAAAf,GAAC,OAAIN,EAAYM,EAAEgB,OAAOF,aAEzF,wBAAQD,KAAK,SAAb,0BACElB,GAAgB,cAACR,EAAD,UAAeQ,SChEzC,I,QAAM9B,EAAgBF,IAAOC,IAAV,oEAIbE,EAAYH,IAAOC,IAAV,uEAITqD,EAAWtD,IAAOC,IAAV,0BAGC,SAASsD,IAAY,IAC5BC,EAASC,cAATD,KAD2B,EAGPzC,mBAAS,CACjCL,MAAO,GACP8B,KAAM,KALyB,mBAGzBjC,EAHyB,KAGnBmD,EAHmB,KAiBjC,OARAxC,qBAAU,WJda,IAACT,KIeZ+C,EJdN9D,MAAM,GAAD,OAAIF,EAAJ,qBAAyBiB,IACnCb,MAAM,SAACC,GAAD,OAASA,EAAIC,WIaFF,MAAM,SAAAW,GAChBA,EAAKoD,OAAS,GAChBD,EAAQnD,EAAK,SAGhB,CAACiD,IAGF,eAAC,EAAD,WACE,cAAC,EAAD,UAAYjD,EAAKG,QACjB,cAAC4C,EAAD,UAAW/C,EAAKiC,UC/BtB,I,UAAMzC,EAAOC,IAAOC,IAAV,8DAKJ2D,GAAQ5D,IAAOC,IAAV,2HAWL4D,GAAU7D,IAAOC,IAAV,wIAYPuB,GAAexB,IAAOC,IAAV,2CAKH,SAAS6D,KAAc,IAAD,EACT/C,mBAAS,IADA,mBAC5BL,EAD4B,KACrBqD,EADqB,OAELhD,mBAAS,IAFJ,mBAE5BiD,EAF4B,KAEnBC,EAFmB,OAGKlD,qBAHL,mBAG5BiB,EAH4B,KAGdC,EAHc,KAI7BC,EAAUC,cAehB,OACE,cAAC,EAAD,UACE,uBAAMC,SAfW,SAAAC,GACnBA,EAAEC,iBLDgB,SAAC5B,EAAQ8B,GAC9B,IAAMrD,EAAQG,IAEd,OAAOI,MAAM,GAAD,OAAIF,EAAJ,UAAsB,CACjC+C,OAAQ,OACR5C,QAAS,CACR,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BR,IAE5BqD,KAAMC,KAAKC,UAAU,CACpBhC,QACA8B,WAGD5C,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UKZdoE,CAAOxD,EAAOsD,GAASpE,MAAM,SAAAgD,GAE3B,GADAuB,QAAQC,IAAIxB,GACI,IAAZA,EAAKC,GACP,OAAOZ,EAAgBW,EAAKE,SAE9BZ,EAAQe,KAAK,SAQb,UACE,eAACW,GAAD,WACE,wCAGA,uBAAOV,KAAK,OAAOC,MAAOzC,EAAO0C,SAAW,SAAAf,GAAC,OAAI0B,EAAS1B,EAAEgB,OAAOF,aAErE,eAACU,GAAD,WACE,0CAGA,0BAAUQ,KAAK,KAAKlB,MAAOa,EAASZ,SAAW,SAAAf,GAAC,OAAI4B,EAAW5B,EAAEgB,OAAOF,aAG1E,8BACE,wBAAQD,KAAK,SAAb,4BAEAlB,GAAgB,cAAC,GAAD,UAAeA,SCrEzC,I,GAAMsC,GAAiBtE,IAAOC,IAAV,2RAedsE,GAAavE,IAAOC,IAAV,wEAMVuE,GAAgBxE,IAAOC,IAAV,6GAIfsE,IAKEE,GAAQzE,IAAOC,IAAV,sEAMLyE,GAAM1E,YAAOI,IAAPJ,CAAH,uOAWL,SAAC2E,GAAD,OACAA,EAAMC,SAAN,mDAMW,SAASC,GAAT,GAAyB,IAARC,EAAO,EAAPA,KACxBC,EAAWC,cACX9C,EAAUC,cAFqB,EAGXR,qBAAWP,GAA7B6D,EAH6B,EAG7BA,KAAMvD,EAHuB,EAGvBA,QAWd,OADAyC,QAAQC,IAAIU,GAEV,eAACR,GAAD,WACE,eAACE,GAAD,WACE,cAACC,GAAD,iCACA,eAACF,GAAD,WACE,cAACG,GAAD,CAAKlE,GAAG,IAAIoE,QAAgC,MAAvBG,EAASG,SAA9B,0BACGD,GAAQH,GAAQ,cAACJ,GAAD,CAAKlE,GAAG,YAAYoE,QAAgC,cAAvBG,EAASG,SAAtC,4CAGvB,eAACX,GAAD,YACKU,GAAQH,GAAS,cAACJ,GAAD,CAAKlE,GAAG,SAASoE,QAAgC,WAAvBG,EAASG,SAAnC,0BAClBD,GAAQH,GAAU,cAACJ,GAAD,CAAKlE,GAAG,IAAI2E,QApBjB,WACnBjG,EAAa,IACbwC,EAAQ,MACmB,MAAvBqD,EAASG,UACXhD,EAAQe,KAAK,MAgBS,gCCvE5B,IAAMlD,GAAQC,IAAOC,IAAX,oDAIK,SAASmF,KAAO,IAAD,EACJrE,qBADI,mBACrBkE,EADqB,KACfvD,EADe,OAEAX,oBAAS,GAFT,mBAErBsE,EAFqB,KAEbC,EAFa,KAiB5B,OAZApE,qBAAU,WACM5B,KAEZG,IAAQG,MAAK,SAAAmD,GACK,IAAZA,EAAKF,IACPnB,EAAQqB,EAAKH,SAInB0C,GAAU,KACT,IAGD,cAAClE,EAAYmE,SAAb,CAAsBpC,MAAO,CAAC8B,OAAMvD,WAApC,SACE,eAAC,GAAD,WACE,cAACmD,GAAD,CAAQC,KAAMO,IACd,eAAC,IAAD,WACE,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC3E,EAAD,MAEF,cAAC,IAAD,CAAO2E,KAAK,eAAZ,SACE,cAAClC,EAAD,MAEF,cAAC,IAAD,CAAOkC,KAAK,YAAZ,SACE,cAAC3B,GAAD,MAEF,cAAC,IAAD,CAAO2B,KAAK,SAAZ,SACE,cAAChE,EAAD,cCzCZiE,IAASC,OACR,cAAC,IAAD,UACC,cAACP,GAAD,MAGDQ,SAASC,eAAe,W","file":"static/js/main.65ee96e8.chunk.js","sourcesContent":["const TOKEN_NAME = 'token';\r\n\r\nexport const setAuthToken = token => {\r\n\tlocalStorage.setItem(TOKEN_NAME, token);\r\n};\r\n\r\nexport const getAuthToken = () => {\r\n\treturn localStorage.getItem(TOKEN_NAME);\r\n};","import { getAuthToken } from \"./utils\";\r\n\r\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\r\n\r\n// api https://github.com/Lidemy/lidemy-student-json-api-server\r\n// https://student-json-api.lidemy.me/posts?userId=1&_expand=user\r\n// https://student-json-api.lidemy.me/posts?id=1\r\nexport const getPosts = () => {\r\n\treturn fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`)\r\n\t\t.then( (res) => res.json());\r\n};\r\n\r\nexport const getPostId = (id) => {\r\n\treturn fetch(`${BASE_URL}/posts?id=${id}`)\r\n\t\t.then( (res) => res.json());\r\n};\r\n\r\n// https://student-json-api.lidemy.me/login\r\n// user01 Lidemy\r\nexport const login = (username, password) => {\r\n\treturn fetch(`${BASE_URL}/login`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'content-type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tusername,\r\n\t\t\tpassword\r\n\t\t})\r\n\t})\r\n\t.then(res => res.json());\r\n};\r\n\r\nexport const getMe = () => {\r\n\tconst token = getAuthToken();\r\n\r\n\treturn fetch(`${BASE_URL}/me`, {\r\n\t\theaders: {\r\n\t\t\t'authorization': `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(res => res.json());\r\n};\r\n\r\n// https://student-json-api.lidemy.me/posts\r\nexport const create = (title , body ) => {\r\n\tconst token = getAuthToken();\r\n\r\n\treturn fetch(`${BASE_URL}/posts`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'content-type': 'application/json',\r\n\t\t\t'authorization': `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttitle,\r\n\t\t\tbody\r\n\t\t})\r\n\t})\r\n\t.then(res => res.json());\r\n};\r\n","// ./Pages/HomePage/HomePage.js\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { PropTypes } from \"prop-types\";\nimport { getPosts } from \"../../WebApi\";\nimport { Link } from \"react-router-dom\";\n\nconst Root = styled.div`\n  width: 80%;\n  margin: 0 auto;\n`;\n\nconst PostContainer = styled.div`\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n`;\n\nconst PostTitle = styled(Link)`\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`;\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.3);\n`;\n\n\nfunction Post ({post}) {\n  return (\n    <PostContainer >\n      <PostTitle to={`/posts/${post.id}`} >{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object\n};\n\nexport default function HomePage() {\n  const [ posts, setPosts ] = useState([]);\n\n  useEffect(() => {\n    getPosts().then( posts => {\n      setPosts(posts);\n    });\n  }, []);\n\n  return (\n    <Root>\n      {posts.map( post => <Post post={post} key={post.id}/>)}\n    </Root>\n  );\n}\n\n\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null);","// ./Pages/LoginPage/LoginPage.js\nimport React, { useState, useContext } from \"react\";\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { setAuthToken } from \"../../utils\";\nimport { login, getMe } from \"../../WebApi\";\nimport { AuthContext } from \"../../contexts\";\n\nconst Root = styled.div`\n  width: 400px;\n  margin: 10px auto;\n  border: 1px solid black;\n  padding: 10px;\n`;\n\nconst UserName = styled.div`\n  margin-bottom: 10px;\n  input {\n    width: 320px;\n  }\n`;\nconst Password = styled.div`\n  margin-bottom: 10px;\n  input {\n    width: 320px;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nexport default function LoginPage() {\n  const {setUser} = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory(); \n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    login(username, password).then( data => {\n      if (data.ok === 0) {\n        return setErrorMessage(data.message);\n      }\n      setAuthToken(data.token);\n      setErrorMessage('');\n\n      getMe().then(resp => {\n        if (resp.ok !==1) {\n          setAuthToken(null);\n          return setErrorMessage(resp.toString());\n        }\n        setUser(resp.data);\n        history.push('/');\n      });\n    });\n  };\n\n  return (\n    <Root>\n      <form onSubmit={handleSubmit}>\n        <UserName>\n          username: <input type=\"text\" value={username} onChange={ e => setUsername(e.target.value)} />\n        </UserName>\n        <Password>\n          password: <input type=\"password\" value={password} onChange={ e => setPassword(e.target.value)} />\n        </Password>\n        <button type=\"submit\">登入</button>\n        { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </form>\n    </Root>\n  );\n};","// ./Pages/BlogPost/BlogPost.js\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { getPostId } from \"../../WebApi\";\nimport { useParams } from \"react-router-dom\";\n\nconst PostContainer = styled.div`\n    width: 80%;\n    margin: 0 auto;\n  `;\nconst PostTitle = styled.div`\n  text-align: center;\n  font-size: 24px;\n`;\nconst PostBody = styled.div``;\n\n\nexport default function BlogPost() {\n  let { slug } = useParams();\n\n  const [ post, setPost ] = useState({\n    title: \"\",\n    body: \"\" \n  });\n\n\n  useEffect(() => {\n    getPostId(slug).then( post => {\n      if (post.length > 0) {\n        setPost(post[0]);\n      }\n    });\n  }, [slug]);\n\n  return (\n    <PostContainer>\n      <PostTitle>{post.title}</PostTitle>\n      <PostBody>{post.body}</PostBody>\n    </PostContainer>\n  );\n}\n\n\n","// ./Pages/CreatePage/CreatePage.js\nimport React, { useState } from \"react\";\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { create } from \"../../WebApi\";\n\nconst Root = styled.div`\n  width: 80%;\n  margin: 0 auto;\n`;\n\nconst Title = styled.div`\n  padding: 5px 0;\n  input {\n    width: 100%;\n  }\n\n  div {\n    padding-bottom: 5px;\n  }\n`;\n\nconst Content = styled.div`\n  padding-bottom: 10px;\n  \n  textarea {\n    width: 100%;\n  }\n\n  div {\n    padding-bottom: 5px;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\n\nexport default function CreatePage() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory(); \n\n  const handleSubmit = e => {\n    e.preventDefault();\n    create(title, content).then( data => {\n      console.log(data);\n      if (data.ok === 0) {\n        return setErrorMessage(data.message);\n      }\n      history.push('/');\n    });\n  };\n\n\n\n  return (\n    <Root>\n      <form onSubmit={handleSubmit}>\n        <Title>\n          <div>\n            Title\n          </div>\n          <input type=\"text\" value={title} onChange={ e => setTitle(e.target.value)} />\n        </Title>\n        <Content>\n          <div>\n            Content\n          </div>\n          <textarea rows=\"10\" value={content} onChange={ e => setContent(e.target.value)}>\n          </textarea>\n        </Content>\n        <div>\n          <button type=\"submit\">新增</button>\n        </div>\n        { errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </form>\n    </Root>\n  );\n};","// ./component/Header/Header.js\nimport React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { setAuthToken } from \"../../utils\";\nimport PropTypes from 'prop-types';\n\nconst HeaderConainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0px 32px;\n  background: white;\n`;\n\nconst NavbarList = styled.div`\n  display: flex;\n  align-utems: center;\n\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`; \n\nconst Brand = styled.div`\n  font-size: 32px;\n  font-weight: bold;\n`;\n\n// set to link\nconst Nav = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) =>\n    props.$active && \n    `\n      background: rgba(0, 0, 0, 0.1);\n    `}\n`;\n\nexport default function Header({done}) {\n  const location = useLocation();\n  const history = useHistory();\n  const { user, setUser } = useContext(AuthContext); \n\n  const handleLogout = () => {\n    setAuthToken('');\n    setUser(null);\n    if (location.pathname !==  \"/\") {\n      history.push('/');\n    } \n  };\n\n  console.log(done);\n  return (\n    <HeaderConainer>\n      <LeftContainer>\n        <Brand >部落格</Brand>\n        <NavbarList>\n          <Nav to=\"/\" $active={location.pathname ===  \"/\"} >首頁</Nav>\n          { (user && done)&& <Nav to=\"/new-post\" $active={location.pathname ===  \"/new-post\"} >發佈文章</Nav>}\n        </NavbarList>\n      </LeftContainer>\n      <NavbarList>\n        {(!user && done) && <Nav to=\"/login\" $active={location.pathname ===  \"/login\"}>登入</Nav>}\n        {(user && done)  && <Nav to=\"#\" onClick={handleLogout}>登出</Nav>}\n      </NavbarList>\n    </HeaderConainer>\n  );\n}\n\nHeader.propTypes = {\n  done: PropTypes.bool\n};\n","// ./component/App/App.js\nimport React, { useState, useEffect } from \"react\";\nimport styled from 'styled-components';\nimport {\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport HomePage from \"../../Pages/HomePage\";\nimport LoginPage from \"../../Pages/LoginPage\"; \nimport BlogPost from \"../../Pages/BlogPost\"; \nimport CreatePage from \"../../Pages/CreatePage\";\nimport Header from \"../Header\";\nimport { getMe } from \"../../WebApi\";\nimport { AuthContext } from \"../../contexts\";\nimport { getAuthToken } from \"../../utils\";\n\nconst Root =  styled.div`\n  padding-top: 64px;\n`;\n\nexport default function App() {\n  const [user, setUser] = useState();\n  const [isDone, setIsDone] = useState(false);\n  // const isDone = useRef(false);\n  \n  useEffect(() =>{\n    const token = getAuthToken();\n    if (token) {\n      getMe().then(resp =>{\n        if (resp.ok === 1) {\n          setUser(resp.data);\n        }\n      });\n    }\n    setIsDone(true);\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{user, setUser}}>\n      <Root>\n        <Header done={isDone} />\n        <Switch>\n          <Route exact path=\"/\">\n            <HomePage />\n          </Route>\n          <Route path=\"/posts/:slug\">\n            <BlogPost />\n          </Route>\n          <Route path=\"/new-post\">\n            <CreatePage />\n          </Route>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n        </Switch>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n","// index.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {\n  // BrowserRouter as Router,\n  // for SPA\n  HashRouter as Router,\n} from \"react-router-dom\";\n\n\nReactDOM.render(\n\t<Router>\n\t\t<App />\n\t</Router>\n\t,\n\tdocument.getElementById('root')\n);\n\n\n"],"sourceRoot":""}