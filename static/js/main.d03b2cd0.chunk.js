(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(n,t,e){"use strict";e.r(t);var c,a,i,o,r,s,j,d,b,l,p,u,h,O=e(0),m=e(9),x=e.n(m),f=e(4),g=e(2),v=e(3),y=e(1),S=v.a.div(c||(c=Object(g.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),w=v.a.h1(a||(a=Object(g.a)(["\n  color: #333;\n"]))),k=v.a.form(i||(i=Object(g.a)(["\n  margin-top: 16px;\n"]))),J=v.a.div(o||(o=Object(g.a)(["\n  marge-top: 16px;\n  color: red;\n"]))),z=v.a.textarea(r||(r=Object(g.a)(["\n  display: block;\n  width: 100%;\n"]))),A=v.a.button(s||(s=Object(g.a)(["\n  margin-top: 8px;\n"]))),D=v.a.div(j||(j=Object(g.a)(["\n  margin-top: 16px;\n"]))),E=v.a.div(d||(d=Object(g.a)(["\n  border: 1px solid black;\n  padding: 8px 16px;\n  border-radius: 8px;\n  \n\n  // &:not(:first-child) {\n  //   margin-top: 8px;\n  // }\n\n  & + & {\n    margin-top: 8px;\n  }\n"]))),L=v.a.div(b||(b=Object(g.a)(["\n  display: flex;\n  align-item: center;\n  justify-content: space-between;\n  padding-bottom: 4px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3)\n"]))),N=v.a.div(l||(l=Object(g.a)(["\n  color: rgba(23, 78, 55, 0.3)\n"]))),_=v.a.div(p||(p=Object(g.a)([""]))),B=v.a.div(u||(u=Object(g.a)(["\n  margin-top: 16px;\n  font-size: 16px;\n"]))),C=v.a.div(h||(h=Object(g.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function F(n){var t=n.author,e=n.time,c=n.children;return Object(y.jsxs)(E,{children:[Object(y.jsxs)(L,{children:[Object(y.jsx)(N,{children:t}),Object(y.jsx)(_,{children:e})]}),Object(y.jsx)(B,{children:c})]})}function H(){var n=Object(O.useState)(null),t=Object(f.a)(n,2),e=t[0],c=t[1],a=Object(O.useState)(null),i=Object(f.a)(a,2),o=i[0],r=i[1],s=Object(O.useState)(),j=Object(f.a)(s,2),d=j[0],b=j[1],l=Object(O.useState)(),p=Object(f.a)(l,2),u=p[0],h=p[1],m=Object(O.useState)(!1),x=Object(f.a)(m,2),g=x[0],v=x[1],E=function(){fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){r(n.message)}))};return Object(O.useEffect)((function(){E()}),[]),Object(y.jsxs)(S,{children:[g&&Object(y.jsx)(C,{children:"Loading..."}),Object(y.jsx)(w,{children:"\u7559\u8a00\u677f"}),Object(y.jsxs)(k,{onSubmit:function(n){n.preventDefault(),g?console.log("no send"):(v(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"Hi",body:d})}).then((function(n){return n.json()})).then((function(n){v(!1),0!==n.ok?(b(""),E()):h(n.message)})).catch((function(n){v(!1),h(n.message)})))},children:[Object(y.jsx)(z,{value:d,onChange:function(n){b(n.target.value)},onFocus:function(n){h(null)},rows:"10"}),Object(y.jsx)(A,{children:"\u9001\u51fa\u7559\u8a00"}),u&&Object(y.jsx)(J,{children:u})]}),o&&Object(y.jsxs)(J,{children:["Something went wrong. ",o.toString()]}),e&&0===e.length&&Object(y.jsx)("div",{children:"No Messahe"}),Object(y.jsx)(D,{children:e&&e.map((function(n){return Object(y.jsx)(F,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})}x.a.render(Object(y.jsx)(H,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d03b2cd0.chunk.js.map